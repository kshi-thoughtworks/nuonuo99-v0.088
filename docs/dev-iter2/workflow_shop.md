# 购买流程梳理

## 专家类

具体包括: 化妆师, 摄影师, 摄像师, 司仪

#### 完整流程

1. 用户选定一个专家, 点击加入购物车.

    - 如果我的订单和我的购物车中均没有这个专家, 加入购物车.
    - 如果订单或购物车中, 已经该专家, 提示用户无需重复购买.
2. 用户选择购物车中的一个专家, 结算下单.

    - 要求用户填写预约时间, 如果已经填写婚期, 默认值为婚期.
    - 检查订单中, 专家 + 预约时间是否已经被预定.
    - 如果预定, 提示用户档期不可用. 流程结束.
    - 如果没有被预定, 新增一条订单数据, 购物车中删除对应数据.

## 产品类

具体包括: 花艺, AV, 场布等

#### 完整流程

1. 用户选定一个产品, 点击加入购物车.

    - 检查订单表, 如果用户已经购买对应大类的产品, 提示不能二次购买, 或者提示只有一个供应商可用.
    - 检查购物车, 如果已经存在对应产品, 更新数量信息. 如果不存在, 新增一条数据, 设置数量信息.
2. 用户选择购物车中的一类/个产品, 结算下单.

    进入供应商选择页面, 列出可用供应商.

    - 如果用户已经下单同类产品, 只有一个供应商可用.
    - 如果用户没有下单对应类别的产品, 列出提供该类型产品的供应商.
    - 用户选择供应商, 确认下单.


## 问题

#### 订单表， 服务和产品是否分开处理.

1. 产品需要有供应商
2. 产品有数量的概念
3. 档期与预约时间

#### 提前多长时间购买

1. 供应商多长时间内完成准备工作

#### 结算时, 大类产品是否可以分开结算.
